<style>
    .image-gallery li {
        float: left; 
        display: block; 
        margin: 0 0 3% 3%; 
        width: auto;
        height: 200px;  /* Set height here */
        overflow: hidden;  /* Hide parts of image that don't fit */
    }
    .image-gallery li a {text-align: center; text-decoration: none!important; color: #777;}
    .image-gallery li a span {display: block; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 3px 0;}
    .image-gallery li a img {
        height: 100%; /* Now image takes full height of li */
        width: 100%; /* And full width of li */
        object-fit: cover; /* Maintain aspect ratio */
        display: block;
        border-radius: 10px;

    }
    .gallery-container {
        display: flex;
        justify-content: center;
    }

    .image-gallery {
        display: flex; 
        flex-wrap: nowrap;
        justify-content: center;
    }

</style>


{% comment %} Loop through the images in the folder and display them, ensuring they all have the same height {% endcomment %}
<div class="gallery-container">
    <ul class="image-gallery">
        {% for file in site.static_files %}
            {% if file.path contains include.folder %}
                {% if file.extname == '.jpg' or file.extname == '.jpeg' or file.extname == '.JPG' or file.extname == '.JPEG' %}
                    {% assign filenameparts = file.path | split: "/" %}
                    {% assign filename = filenameparts | last | replace: file.extname,"" %}
                    <li>
                        <a href="{{ file.path | relative_url }}">
                            <img src="{{ file.path | relative_url }}" alt="{{ filename }}" />
                        </a>
                        <span>{{ filename }}</span>
                    </li>
                {% endif %}
            {% endif %}
        {% endfor %}
    </ul>
</div>
